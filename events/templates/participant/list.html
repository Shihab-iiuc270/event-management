{% extends 'dashboard/base.html' %}
{% block content %}

<h2 class="text-2xl font-bold mb-4">Participants</h2>

<a href="{% url 'create-participant' %}"
   class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
   Add Participant
</a>

<ul class="mt-4 space-y-2">
    {% for participant in participants %}
    <li class="bg-white p-3 rounded shadow flex justify-between items-center">
        <span>{{ participant.name }}</span>

        <span class="flex space-x-2">
            <a href="{% url 'participant_update' participant.id %}" 
               class="px-3 py-1 bg-blue-700 hover:bg-blue-800 text-white text-sm rounded">
               Update
            </a>

            <form action="{% url 'participant_delete' participant.id %}" 
                  method="POST" 
                  class="inline-block">
                {% csrf_token %}
                <button type="submit"
                    class="px-3 py-1 bg-red-500 hover:bg-red-600 text-white text-sm rounded"
                    onclick="return confirm('Are you sure you want to delete this participant?');">
                    Delete
                </button>
            </form>
        </span>
    </li>
    {% empty %}
    <li class="text-gray-500">No participants found.</li>
    {% endfor %}
</ul>

{% endblock %}
