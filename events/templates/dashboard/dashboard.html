{% extends "dashboard/base.html" %}
{% block title %}User Dashboard{% endblock title %}

{% block dashboard %}

<div class="max-w-[1400px] mx-auto px-3 sm:px-4">

  <!-- HEADER -->
  <header class="flex flex-col  items-center justify-center sm:flex-row sm:justify-between sm:items-center gap-4 mb-8">
    <h1 id="dashboard" class="text-xl sm:text-2xl font-semibold">
      Dashboard
    </h1>

    {% comment %} <div class="flex items-center gap-3">
      <button class="p-2 rounded-full hover:bg-gray-100 relative">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"/>
        </svg>
      </button>

      <button class="w-9 h-9 sm:w-10 sm:h-10 bg-blue-500 rounded-full text-white font-semibold">
        B
      </button>
    </div> {% endcomment %}
  </header>

  <!-- STATS GRID -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 sm:gap-6 mb-8">

    <!-- TOTAL EVENTS -->
    <a href="{% url 'user' %}?type=All" class="block active:scale-95 transition">
      <div class="bg-blue-400 rounded-xl p-4 sm:p-6 shadow-sm">
        <h3 class="text-xs sm:text-sm font-medium text-gray-900 mb-3 sm:mb-4">
          TOTAL EVENTS
        </h3>
        <div class="flex justify-between items-start">
          <p class="text-2xl sm:text-3xl font-semibold">
            {{ counts.total }}
          </p>
          <div class="bg-blue-100 p-3 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke="currentColor"
              class="w-6 h-6 text-blue-600">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3
                c-1.03 0-1.9.693-2.166 1.638M7.5 6h9v15h-9z"/>
            </svg>
          </div>
        </div>
      </div>
    </a>

    <!-- TODAY EVENTS -->
    <a href="{% url 'user' %}?type=Today's" class="block active:scale-95 transition">
      <div class="bg-green-400 rounded-xl p-4 sm:p-6 shadow-sm">
        <h3 class="text-xs sm:text-sm font-medium text-gray-900 mb-3 sm:mb-4">
          TODAY'S EVENTS
        </h3>
        <div class="flex justify-between items-start">
          <p class="text-2xl sm:text-3xl font-semibold">
            {{ counts.todays_event }}
          </p>
          <div class="bg-green-100 p-3 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke="currentColor"
              class="w-6 h-6 text-green-600">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M9 12.75 11.25 15 15 9.75"/>
            </svg>
          </div>
        </div>
      </div>
    </a>

    <!-- UPCOMING -->
    <a href="{% url 'user' %}?type=Upcoming" class="block active:scale-95 transition">
      <div class="bg-yellow-400 rounded-xl p-4 sm:p-6 shadow-sm">
        <h3 class="text-xs sm:text-sm font-medium text-gray-900 mb-3 sm:mb-4">
          UPCOMING EVENTS
        </h3>
        <div class="flex justify-between items-start">
          <p class="text-2xl sm:text-3xl font-semibold">
            {{ counts.upcoming_events }}
          </p>
          <div class="bg-yellow-100 p-3 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke="currentColor"
              class="w-6 h-6 text-yellow-600">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 6v6h4.5"/>
            </svg>
          </div>
        </div>
      </div>
    </a>

    <!-- PAST -->
    <a href="{% url 'user' %}?type=Past" class="block active:scale-95 transition">
      <div class="bg-purple-400 rounded-xl p-4 sm:p-6 shadow-sm">
        <h3 class="text-xs sm:text-sm font-medium text-gray-900 mb-3 sm:mb-4">
          PAST EVENTS
        </h3>
        <div class="flex justify-between items-start">
          <p class="text-2xl sm:text-3xl font-semibold">
            {{ counts.previous_events }}
          </p>
          <div class="bg-purple-100 p-3 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24" stroke="currentColor"
              class="w-6 h-6 text-purple-600">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 8v4l3 3"/>
            </svg>
          </div>
        </div>
      </div>
    </a>

    <!-- PARTICIPANTS -->
         <a href="{% url 'list-participant' %}" class="block active:scale-95 transition">

    <div class="bg-red-400 rounded-xl p-4 sm:p-6 shadow-sm">
      <h3 class="text-xs sm:text-sm font-medium text-gray-900 mb-3 sm:mb-4">
        TOTAL PARTICIPANTS
      </h3>
      <div class="flex justify-between items-start">
        <p class="text-2xl sm:text-3xl font-semibold">
          {{ counts.total_participants }}
        </p>
        <div class="bg-red-100 p-3 rounded-full">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke="currentColor"
            class="w-6 h-6 text-red-600">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 19.128A9.38 9.38 0 0 0 12 21"/>
          </svg>
        </div>
      </div>
    </div>
  </a>

  </div>

  <!-- MESSAGES -->
  {% if messages %}
    {% for message in messages %}
      <div class="mb-2 px-3 py-2 rounded text-sm
        {% if 'success' in message.tags %} bg-green-500 text-white
        {% elif 'error' in message.tags %} bg-red-500 text-white
        {% else %} bg-gray-200 {% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  {% endif %}

</div>
<div>
  {% block tasks %}{% endblock tasks %}
</div>

{% endblock dashboard %}
